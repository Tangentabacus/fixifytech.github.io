<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Favicon and PWA icons -->
  <link rel="apple-touch-icon" sizes="180x180" href="media/favicon/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="media/favicon/favicon-32x2.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="media/favicon/favicon-16x16.png" />
  <link rel="manifest" href="media/favicon/site.webmanifest" />
  <meta name="theme-color" content="#ffffff" />
  <!-- Android-specific icons (optional) -->
  <link rel="icon" type="image/png" sizes="192x192" href="media/favicon/android-chrome-192x192.png" />
  <link rel="icon" type="image/png" sizes="512x512" href="media/favicon/android-chrome-512x512.png" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fixify Tech | Computer Repair & IT in Anchorage, Alaska</title>
  <meta name="description" content="Fixify Tech offers Microsoft 365 support, Ubiquiti networking, healthcare IT consulting, and custom workstation repairs for small businesses in Anchorage, Alaska." />
  <meta property="og:title" content="Fixify Tech | Secure & Professional IT Support in Anchorage" />
  <meta property="og:description" content="IT solutions focused on compliance, reliability, and scalability for local businesses." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://fixifytech.github.io/path/to/social-preview.jpg" />
  <meta property="og:url" content="https://fixifytech.github.io/" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Fixify Tech | Anchorage IT Services" />
  <meta name="twitter:description" content="Trusted IT support tailored for compliance-focused environments and small businesses." />
  <meta name="twitter:image" content="https://fixifytech.github.io/path/to/social-preview.jpg" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Poppins:wght@600&display=swap" rel="stylesheet">

  <style>
    #submit-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    #submit-btn:not(.disabled) {
      pointer-events: auto;
    }
    html {
      scroll-behavior: smooth;
    }

    nav.sticky ul li a.active {
      text-decoration: underline;
    }
    nav.sticky.initial {
      position: static;
      padding: 1rem 1rem;
    }
    nav.sticky.fixed {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      padding: 0.5rem 1rem;
    }

    /* Nav layout */
    nav.sticky {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 2rem;
    }

    .nav-left,
    .nav-right {
      flex: 0 0 auto;
    }

    .nav-center {
      display: flex;
      gap: 2rem;
      list-style: none;
      margin: 0;
      padding: 0;
      flex: 1 1 auto;
      justify-content: center;
      flex-wrap: nowrap; /* prevent wrapping */
    }

    /* Ensure nav sections align items vertically */
    .nav-left,
    .nav-center,
    .nav-right {
      display: flex;
      align-items: center;
    }

    .nav-center .social {
      background-color: #1877f2; /* Facebook blue */
      color: #fff !important;     /* Always white text */
      padding: 0.5rem 1rem;
      border-radius: 6px;
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
      font-weight: 600;
      letter-spacing: -0.02em;
      text-decoration: none;
      transition: background-color 0.2s ease;
      white-space: nowrap; /* keep text on one line */
    }
    /* Responsive adjustment for Facebook button on mobile */
    @media (max-width: 600px) {
      .nav-center .social {
        padding: 0.25rem 0.75rem;
        font-size: 0.9rem;
      }
    }

    .nav-center .social:hover {
      background-color: #145dbf; /* Slightly darker on hover */
    }

    /* Ensure Facebook button color is preserved in both themes */
    html[data-theme='light'] .nav-center .social,
    html[data-theme='dark'] .nav-center .social {
      background-color: #1877f2;
      color: #fff !important;
    }

    /* Ensure Top button stays hidden until fixed state */
    #top-button {
      background: none;
      border: none;
      color: var(--light-text);
      font-weight: bold;
      font-size: 1rem;
      padding: 0.5rem 1rem;
      cursor: pointer;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s;
    }
    nav.sticky.fixed #top-button {
      opacity: 1;
      visibility: visible;
    }
    section {
      margin-top: 4rem;
      padding-top: 2rem;
      border-top: 2px solid var(--accent-color);
    }


    .card {
      border-left: 5px solid var(--accent-color);
      min-height: 0;
      transition: background 0.3s, transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card.cta {
      border-left: none;
      border-right: none;
      padding: 4rem 2rem;
      margin: 2rem auto 0.5rem;
    }

    @media (min-width: 700px) {
      .card {
        /* height: 100%;  Removed to allow minHeight to control */
      }

      .card:hover {
        transform: translateY(-2px) scale(1.01);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
      }
    }
    :root {
      --yellow: #ffd700;
      --charcoal: #1a1a1a;
      --light-charcoal: #2c2c2c;
      --offwhite: #f4f4f4;
      --dark-text: #ddd;
      --light-text: #111;
      --link-blue: #80d8ff;
    }

    html[data-theme='dark'] {
      --bg-color: var(--charcoal);
      --text-color: var(--dark-text);
      --header-bg: var(--light-charcoal);
      --card-bg: #242424;
      --footer-bg: #111;
      --accent-color: var(--yellow);
      --link-color: var(--link-blue);
    }

    html[data-theme='light'] {
      --bg-color: var(--offwhite);
      --text-color: var(--light-text);
      --header-bg: white;
      --card-bg: white;
      --footer-bg: #eaeaea;
      --accent-color: #d4af37;
      --link-color: #003366;
    }

    body {
      margin: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      font-family: 'Inter', system-ui, sans-serif;
      font-size: 16px;
      line-height: 1.75;
      transition: background-color 0.3s ease, color 0.3s ease;
      -webkit-font-smoothing: antialiased;
    }

    h1, h2, h3 {
      font-family: 'Poppins', sans-serif;
    }

    a:focus {
      outline: 3px dashed var(--accent-color);
      outline-offset: 2px;
    }

    header {
      background-color: var(--header-bg);
      text-align: center;
      padding: 3rem 1rem 2rem;
      border-bottom: 3px solid var(--accent-color);
    }

    header h1 {
      margin: 0;
      font-size: 2.5rem;
    }

    header p {
      font-size: 1.25rem;
      margin-top: 0.5rem;
    }

    .container {
      max-width: 1140px;
      margin: 0 auto;
      padding: 2rem 1rem 2rem; /* reduced top padding for tighter spacing */
    }
    .section-separator {
      margin: 4rem auto 2rem;
      max-width: 1140px;
      border-top: 2px dashed var(--accent-color);
      opacity: 0.4;
    }

    h2 {
      color: var(--accent-color);
      margin-top: 0;
    }

    .card {
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      transition: background 0.3s;
    }

    .card h2 {
      margin-top: 0;
      margin-bottom: 0.75rem;
    }

    .card ul {
      margin: 0;
    }

    .card p {
      margin: 0 0 1rem;
    }

    ul {
      padding-left: 1.25rem;
    }

    a {
      color: var(--link-color);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    footer {
      text-align: center;
      padding: 2rem 1rem 3rem;
      font-size: 0.9rem;
      background-color: var(--footer-bg);
      color: var(--text-color);
    }

    .theme-toggle {
      margin: 0;
      background: var(--accent-color);
      color: var(--light-text);
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }

    .social {
      text-align: center;
      margin-top: 1rem;
    }

    .social a {
      display: inline-block;
      margin: 0.5rem;
      background-color: #1877f2;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      font-weight: bold;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    /* Ensure all service cards stretch to equal height */
    #services {
      align-items: stretch;
    }

    /* Make each service section a flex container */
    #services > section {
      display: flex;
    }

    /* Ensure the card fills the section height and uses column layout */
    #services > section .card {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    /* Allow card content to grow, especially the text area */
    #services > section .card > p,
    #services > section .card > ul {
      flex-grow: 1;
    }

    @media (min-width: 700px) and (orientation: landscape), (min-width: 900px) {
      .grid {
        grid-template-columns: 1fr 1fr;
      }
    }

    @media (max-width: 600px) {
      header h1 {
        font-size: 2rem;
      }
    }

    .service-card {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      align-items: stretch;
    }

    .service-card img {
      width: 100%;
      max-width: 300px;
      height: auto;
      object-fit: contain;
      border-radius: 8px;
      transition: transform 0.3s ease;
    }

    .service-card img:hover {
      transform: scale(1.03);
    }

    /* Center service card images */
    .card img {
      display: block;
      margin: 0 auto 1rem;
    }

    /* Center service card headlines */
    .card h2 {
      text-align: center;
    }

    @media (min-width: 768px) {
      .service-card {
        flex-direction: row;
        align-items: center;
      }

      .service-card.reverse {
        flex-direction: row-reverse;
      }
    }

    .center-image {
      display: block;
      margin: 0 auto 1rem;
      max-width: 400px;
      width: 100%;
      border-radius: 8px;
    }

    nav.sticky {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 2000;
      background-color: var(--accent-color);
      color: var(--light-text);
      transition: padding 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    nav.sticky ul li a {
      color: var(--light-text);
      font-weight: bold;
    }

    html[data-theme='light'] nav.sticky {
      background-color: #d4af37;
      color: var(--light-text);
    }

    html[data-theme='light'] nav.sticky ul li a {
      color: var(--light-text);
    }

    .cta {
      text-align: center;
      margin: 4rem auto;
      padding: 2rem 1.5rem;
      background: linear-gradient(120deg, #fff5cc 0%, #ffed9e 25%, #fff5cc 50%, #ffed9e 75%, #fff5cc 100%);
      background-size: 300% 300%;
      animation: gradientShift 6s ease infinite;
      border-radius: 20px !important;
      box-shadow: 0 12px 30px rgba(0,0,0,0.2);
      max-width: 900px;
      position: relative;
      z-index: 0;
      overflow: hidden;
    }

    html[data-theme='dark'] .cta {
      background: linear-gradient(120deg, #4a4a00 0%, #333300 25%, #4a4a00 50%, #333300 75%, #4a4a00 100%);
      background-size: 300% 300%;
      animation: gradientShift 6s ease infinite;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .full-span {
      grid-column: 1 / -1;
      margin: 0 auto;
    }

    .cta::before {
      content: "";
      position: absolute;
      width: 100px;
      height: 100px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      top: -20px;
      right: -20px;
      filter: blur(20px);
    }

    .cta button {
      margin-top: 1rem;
      background: linear-gradient(to right, #ffd700, #f0c400);
      color: #000;
      font-size: 1.25rem;
      font-weight: bold;
      border: 2px solid #000;
      padding: 1rem 3rem;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .cta button:hover {
      background: linear-gradient(to right, #f0c400, #ffd700);
      transform: scale(1.05);
    }

    .logo-container {
      transition: all 0.3s ease;
    }

    .slogan {
      transition: opacity 0.3s ease;
    }

    .scrolled .logo-container img {
      max-height: 40px !important;
    }

    .scrolled .slogan {
      opacity: 0;
    }

    nav.sticky.scrolled {
      background-color: rgba(255, 215, 0, 0.85);
      padding: 0.5rem 1rem;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }

    nav.sticky.scrolled ul {
      font-size: 0.95rem;
    }
</style>
  <!-- Carousel styles -->
  <style>
    .carousel-container {
      position: relative;
      overflow: hidden;
      max-width: 100%;
      max-height: 400px; /* limit height */
      margin-bottom: 1.5rem;
      touch-action: pan-y;
    }
    .carousel-inner {
      display: flex;
      transition: transform 0.5s ease;
    }
    .carousel-slide {
      min-width: 100%;
      box-sizing: border-box;
    }
    .carousel-slide img {
      display: block;
      width: auto;
      max-width: 100%;
      height: auto;
      max-height: 400px; /* match container */
      margin: 0 auto;
      border-radius: 8px;
    }
    /* Carousel navigation and touch support styles */
    .carousel-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.5);
      color: white;
      border: none;
      font-size: 2rem;
      padding: 0.5rem;
      cursor: pointer;
      z-index: 10;
      border-radius: 50%;
      width: 2.5rem;
      height: 2.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .carousel-nav.prev {
      left: 1rem;
    }
    .carousel-nav.next {
      right: 1rem;
    }
  </style>
</head>
<body>

  <header>
    <!-- Logo Placeholder -->
    <div class="logo-container">
      <img src="media/logo.png" alt="Fixify Tech Logo" style="max-height: 80px; margin-bottom: 1rem;" onerror="this.style.display='none'; document.getElementById('logo-title').style.display = 'block';" onload="document.getElementById('logo-title').style.display = 'none';" />
      <h1 id="logo-title" style="margin: 0;">Fixify Tech</h1>
      <p class="slogan">Computer Repair and IT Solutions â€” Anchorage, Alaska</p>
    </div>
  </header>
  <div id="nav-spacer"></div>
  <nav id="main-nav" class="sticky initial">
    <div class="nav-left">
      <button class="theme-toggle" id="theme-toggle-btn" onclick="toggleTheme()" aria-label="Toggle light and dark mode">
        ðŸŒ™
      </button>
    </div>
    <ul class="nav-center">
      <li><a href="#services" class="nav-link">Services</a></li>
      <li><a href="#about" class="nav-link">About</a></li>
      <li><a href="https://www.facebook.com/fixifytech" target="_blank" rel="noopener noreferrer" class="social">Visit Us on Facebook</a></li>
    </ul>
    <div class="nav-right">
      <button id="top-button" onclick="window.scrollTo({ top: 0, behavior: 'smooth' });">â†‘</button>
    </div>
  </nav>

  <div class="card cta" id="contact-form">
    <h2>Let's Get Started</h2>
    <p style="font-size: 1.2rem; font-weight: 500; max-width: 700px; margin: 0 auto 1.5rem;">
      Need help with your tech? Reach out today â€” no commitment required. Weâ€™re here to simplify the complicated, fix the broken, and keep your business connected.
    </p>
    <form action="https://formsubmit.co/tangentabacus@gmail.com" method="POST">
      <input type="hidden" name="_honey" style="display:none">
      <input type="hidden" name="_next" value="https://fixifytech.com">
      <input type="hidden" name="_subject" value="ðŸš¨ New Lead from Fixify Tech Website!" />
      <div style="display: flex; flex-direction: column; gap: 1rem; max-width: 600px; margin: 0 auto;">
        <input type="text" name="name" placeholder="Your Name *" required title="Your Name is required" aria-required="true" style="padding: 0.75rem; border-radius: 5px; border: none;">
        <input type="email" name="email" placeholder="Your Email *" required title="Your Email is required" aria-required="true" style="padding: 0.75rem; border-radius: 5px; border: none;">
        <textarea name="message" rows="5" placeholder="Tell us what you need... *" required title="Message is required" aria-required="true" style="padding: 0.75rem; border-radius: 5px; border: none;"></textarea>
        <button type="submit" style="padding: 0.75rem 1.5rem; background-color: var(--accent-color); color: var(--light-text); border: none; border-radius: 6px; font-weight: bold; cursor: pointer;">
          Send Message
        </button>
      </div>
    </form>
  </div>

  <div class="container">

    <div class="grid" id="services">
      <section>
        <div class="service-card">
          <div class="card">
            <img src="media/m365.webp" alt="Service preview" onerror="this.style.display='none'" />
            <h2>Microsoft 365 Support & Setup</h2>
            <p>We specialize in configuring, securing, and supporting Microsoft 365 for small businesses. From new tenant creation to user onboarding, security policies, and ongoing administrationâ€”we help your tools work smarter for you.</p>
            <ul>
              <li>Microsoft 365 tenant setup and licensing</li>
              <li>Email, Teams, SharePoint, and OneDrive support</li>
              <li>Security policies and compliance tools</li>
              <li>Streamlined onboarding and automation</li>
            </ul>
          </div>
        </div>
      </section>

      <section>
        <div class="service-card reverse">
          <div class="card">
            <img src="media/networking.jpg" alt="Service preview" onerror="this.style.display='none'" />
            <h2>Small Business Networking</h2>
            <p>Fixify Tech builds and maintains reliable networks designed around Ubiquiti UniFi hardwareâ€”ideal for offices, clinics, and shops in Anchorage. Weâ€™ll help you achieve fast, secure, and scalable connectivity.</p>
            <ul>
              <li>Ubiquiti UniFi network design & deployment</li>
              <li>Wi-Fi coverage mapping & VLAN segmentation</li>
              <li>Firewall configuration and remote access</li>
              <li>Ongoing monitoring and maintenance</li>
            </ul>
          </div>
        </div>
      </section>

      <section>
        <div class="service-card">
          <div class="card">
            <img src="media/compliance.jpg" alt="Service preview" onerror="this.style.display='none'" />
            <h2>Compliance-Focused IT Solutions</h2>
            <p>We design IT systems with compliance and security in mindâ€”built for industries where uptime, data privacy, and audit readiness matter most. Our goal is to support smooth operations with resilient infrastructure and streamlined workflows.</p>
            <ul>
              <li>IT planning with a focus on regulatory compliance</li>
              <li>Secure device deployment and data safeguards</li>
              <li>Process automation and operational streamlining</li>
              <li>Integration of monitoring and access control systems</li>
            </ul>
          </div>
        </div>
      </section>

      <section>
        <div class="service-card reverse">
          <div class="card">
            <img src="media/repair.jpg" alt="Service preview" onerror="this.style.display='none'" />
            <h2>Workstation & PC Repair</h2>
            <p>Whether you're a content creator, gamer, or small office, we offer repair and custom build services for high-performance computers. Our experience spans from GPUs to thermal management and cable routing.</p>
            <ul>
              <li>Custom PC builds for gaming or production</li>
              <li>Workstation optimization and part upgrades</li>
              <li>Diagnostics and hardware repair</li>
              <li>Windows, drivers, and software troubleshooting</li>
            </ul>
          </div>
        </div>
      </section>

    
    </div>

    <div class="section-separator"></div>
    <div class="full-span">
      <div class="card" id="other-services" style="margin-top: 2rem;">
        <h2>Other Services</h2>
        <p>Our flexible IT consulting and support extends beyond core offerings, providing tailored solutions to meet your unique needs:</p>
        <ul>
          <li><strong>Remote IT Assistance:</strong> Fast, reliable troubleshooting and support for your remote workforce.</li>
          <li><strong>Cloud Ticketing & Help Desk:</strong> Setup and management of cloud-based ticketing systems for efficient issue tracking and resolution.</li>
          <li><strong>Equipment Procurement & Replacement:</strong> Expert guidance on selecting, purchasing, and replacing aging hardware and software.</li>
          <li><strong>Upgrades & System Enhancements:</strong> Planning and execution of performance upgrades, migrations, and scalability improvements.</li>
          <li><strong>General IT Consulting:</strong> Strategic advice on network architecture, cybersecurity best practices, and technology roadmaps.</li>
        </ul>
        <p>Get in touch to discuss how we can customize these services for your business.</p>
      </div>
    </div>

    <!-- About Section -->
    <div class="section-separator"></div>
    <div class="full-span">
      <div class="card" id="about" style="margin-top: 2rem;">
        <h2>About Fixify Tech</h2>
        <div class="carousel-container" id="about-carousel">
          <button class="carousel-nav prev" aria-label="Previous slide">â€¹</button>
          <button class="carousel-nav next" aria-label="Next slide">â€º</button>
          <div class="carousel-inner">
            <div class="carousel-slide"><img src="media/about1.jpeg" alt="Slide 1" onerror="this.style.display='none'" /></div>
            <div class="carousel-slide"><img src="media/about2.jpeg" alt="Slide 2" onerror="this.style.display='none'" /></div>
            <div class="carousel-slide"><img src="media/about3.jpeg" alt="Slide 3" onerror="this.style.display='none'" /></div>
            <div class="carousel-slide"><img src="media/about4.jpeg" alt="Slide 4" onerror="this.style.display='none'" /></div>
            <div class="carousel-slide"><img src="media/about5.jpeg" alt="Slide 5" onerror="this.style.display='none'" /></div>
            <div class="carousel-slide"><img src="media/about6.jpeg" alt="Slide 6" onerror="this.style.display='none'" /></div>
          </div>
        </div>
        <p>Fixify Tech is built on years of real-world experience in frontline operations, IT support, and systems design. We specialize in practical, secure, and scalable IT solutions that help local organizations and small businesses stay efficient, connected, and protected. Our approach blends technical know-how with a strong understanding of compliance-driven environments, making us a reliable partner for industries with high standards for data integrity and uptime.</p>
      </div>
    </div>



  </div>

  <footer>
    <p>&copy; 2025 Fixify Tech â€” Serving Anchorage, Alaska with secure, local IT support.</p>
  </footer>

  <script>
    const toggleTheme = () => {
      const current = document.documentElement.getAttribute('data-theme');
      const newTheme = current === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      // Update theme toggle button emoji
      const btn = document.getElementById('theme-toggle-btn');
      if (btn) {
        if (newTheme === 'dark') {
          btn.textContent = 'â˜€ï¸'; // show sun to switch back to light
        } else {
          btn.textContent = 'ðŸŒ™'; // show moon to switch to dark
        }
      }
    };

    // Determine and apply initial theme
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      document.documentElement.setAttribute('data-theme', savedTheme);
    } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
      document.documentElement.setAttribute('data-theme', 'dark');
    } else {
      document.documentElement.setAttribute('data-theme', 'light');
    }

    // Set initial theme toggle button emoji
    document.addEventListener('DOMContentLoaded', function() {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const initBtn = document.getElementById('theme-toggle-btn');
      if (initBtn) {
        initBtn.textContent = currentTheme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
      }
    });

    // Sticky/fixed nav scroll logic
    const nav = document.getElementById('main-nav');
    const topBtn = document.getElementById('top-button');
    const header = document.querySelector('header');
    const spacer = document.getElementById('nav-spacer');

    const updateNavState = () => {
      const buffer = 1; // prevent jump due to fractional pixel scroll
      const headerBottom = header.getBoundingClientRect().bottom + window.scrollY;

      if (window.scrollY + buffer >= headerBottom) {
        nav.classList.remove('initial');
        nav.classList.add('fixed', 'scrolled');
        // Add spacer to prevent layout shift when nav is fixed
        spacer.style.height = `${nav.offsetHeight}px`;
        // "Top" button visibility is now handled by CSS.
      } else {
        nav.classList.remove('fixed', 'scrolled');
        nav.classList.add('initial');
        // Remove spacer when nav is not fixed
        spacer.style.height = '0px';
        // "Top" button visibility is now handled by CSS.
      }
    };

    let ticking = false;
    window.addEventListener('scroll', () => {
      if (!ticking) {
        window.requestAnimationFrame(() => {
          updateNavState();
          updateActiveLink();
          ticking = false;
        });
        ticking = true;
      }
    });
    window.addEventListener('resize', updateNavState);
    document.addEventListener('DOMContentLoaded', updateNavState);

    // Improved scroll detection for nav underline
    const navLinks = document.querySelectorAll(".nav-link");
    const sections = {
      services: document.querySelector("#services"),
      about: document.querySelector("#about")
    };

    function updateActiveLink() {
      const scrollY = window.scrollY;
      const viewportHeight = window.innerHeight;
      const totalHeight = document.body.offsetHeight;

      const servicesTop = sections.services.offsetTop;
      const servicesBottom = servicesTop + sections.services.offsetHeight;
      const aboutTop = sections.about.offsetTop;

      navLinks.forEach(link => link.classList.remove("active"));

      if (
        scrollY + viewportHeight >= totalHeight ||
        (scrollY > aboutTop - 100 && scrollY + 100 < totalHeight)
      ) {
        document.querySelector('a[href="#about"]').classList.add("active");
      } else if (scrollY >= servicesTop - 100 && scrollY < servicesBottom - 100) {
        document.querySelector('a[href="#services"]').classList.add("active");
      }
    }

    window.addEventListener("resize", updateActiveLink);
    document.addEventListener("DOMContentLoaded", updateActiveLink);

    // Simple infinite-loop About section carousel
    (function() {
      const carousel = document.getElementById('about-carousel');
      if (!carousel) return;
      const inner = carousel.querySelector('.carousel-inner');
      const slides = Array.from(inner.children);
      const prevBtn = carousel.querySelector('.carousel-nav.prev');
      const nextBtn = carousel.querySelector('.carousel-nav.next');
      let idx = 0;
      const total = slides.length;

      function showSlide(i) {
        inner.style.transition = 'transform 0.5s ease';
        idx = (i + total) % total;
        inner.style.transform = `translateX(-${idx * 100}%)`;
      }

      let autoInterval = setInterval(() => showSlide(idx + 1), 6000);

      // Pause on hover
      carousel.addEventListener('mouseenter', () => clearInterval(autoInterval));
      carousel.addEventListener('mouseleave', () => autoInterval = setInterval(() => showSlide(idx + 1), 6000));

      // Nav button clicks
      prevBtn.addEventListener('click', () => showSlide(idx - 1));
      nextBtn.addEventListener('click', () => showSlide(idx + 1));

      // Touch swipe support
      let startX = 0;
      carousel.addEventListener('touchstart', e => { startX = e.touches[0].clientX; clearInterval(autoInterval); });
      carousel.addEventListener('touchend', e => {
        const dx = e.changedTouches[0].clientX - startX;
        if (dx > 30) showSlide(idx - 1);
        else if (dx < -30) showSlide(idx + 1);
        autoInterval = setInterval(() => showSlide(idx + 1), 6000);
      });
    })();
    // Equalize heights of service cards (using minHeight, not fixed height)
    function equalizeServiceHeights() {
      const cards = document.querySelectorAll('#services section .card');
      if (!cards.length) return;
      // Remove any inline height
      cards.forEach(c => c.style.minHeight = 'auto');
      // Calculate max height
      let maxH = 0;
      cards.forEach(c => {
        const h = c.offsetHeight;
        if (h > maxH) maxH = h;
      });
      // Apply minimum height
      cards.forEach(c => c.style.minHeight = maxH + 'px');
    }

    // Facebook button text adjustment for responsiveness
    function updateFacebookButtonText() {
      const fbBtn = document.querySelector('.nav-center .social');
      if (!fbBtn) return;
      if (window.innerWidth < 600) {
        fbBtn.textContent = 'Facebook';
      } else {
        fbBtn.textContent = 'Visit Us on Facebook';
      }
    }

    // Run on load and resize
    window.addEventListener('DOMContentLoaded', equalizeServiceHeights);
    window.addEventListener('resize', equalizeServiceHeights);
    window.addEventListener('DOMContentLoaded', updateFacebookButtonText);
    window.addEventListener('resize', updateFacebookButtonText);
  </script>

</body>
</html>